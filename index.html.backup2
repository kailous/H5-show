<!DOCTYPE html>
<html>
${headHTML}

<body>
  <div id="fullpage">

  </div>
  <!-- 主页内容... -->
</body>
<script src="js/lottieAnimation.js"></script>
<script>
  function generatePages(pages) {

    // 动态生成页面内容
    const fullpageContainer = document.getElementById('fullpage');

    // 生成页面内容
    Object.keys(pages).forEach(pageName => {
      const pageDiv = document.createElement('div');
      pageDiv.id = `page${pageName}Content`;
      pageDiv.className = 'pages section';
      pageDiv.innerHTML = pages[pageName];
      fullpageContainer.appendChild(pageDiv);
    });

    // 处理最后一个元素的类名
    const pageDivs = fullpageContainer.getElementsByClassName('pages section');
    if (pageDivs.length > 0) {
      const lastPageDiv = pageDivs[pageDivs.length - 1];
      lastPageDiv.className = 'pages section lastPage';
    }

    // 在动态内容加载后初始化动画
    initTurnTipsAnimations();

    // 确保fullpage.js初始化在页面内容加载之后
    new fullpage('#fullpage', {
      autoScrolling: true,
      scrollHorizontally: false
    });
  }
  // 从服务器获取页面内容
  fetch('/pages')
    .then(response => response.json())
    .then(pages => generatePages(pages))
    .catch(err => console.error('无法加载页面:', err));
</script>
</html>